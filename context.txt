请求 URL
http://localhost:5173/sf-chain/control/template/preview
请求方法
POST
状态代码
200 OK
远程地址
[::1]:5173
引用站点策略
strict-origin-when-cross-origin

{"operationType":"CONTENT_MODIFICATION_OP","template":"你是一个专业的文档编辑助手，擅长根据批注内容精准修改文档。\n你的输出会被程序直接用于替换原文行内容，因此必须严格遵守格式和完整性要求。\n\n原始文档内容：\n```\n{{ fn.defaultValue(input.originalText, '') }}\n```\n\n批注信息：\n批注内容：{{ fn.defaultValue(input.annotationContent, '') }}\n选中文本：{{ fn.defaultValue(input.selectedText, '') }}\n保持原始风格：{{ fn.defaultValue(input.keepOriginalStyle, false) }}\n\n修改要求：\n1. 请基于批注内容和选中的文本位置，确定需要修改的行\n2. 保持文章的整体风格和语调\n3. 只修改必要的行，避免过度修改\n4. 重点关注批注选中的文本区域及其相关内容\n{{#if input.keepOriginalStyle}}\n5. 请保持原文的写作风格和表达方式\n{{/if}}\n\n重要说明：\n• content字段必须包含该行的完整内容，不能只包含修改的部分！\n• 即使只修改了一个词，也要返回整句话的完整内容！\n• 我会用content的内容完全替换原来的行，所以绝对不能缺少任何部分！\n\n关键要求：\n✓ reason字段要简洁明了，说明本次修改的整体目标，字数为20~200字\n✓ content必须是完整的行内容，包含修改前后的所有文字\n✓ 不要只返回修改的片段，要返回整行的完整句子\n✓ 确保修改后的内容在语法和逻辑上完整连贯\n✓ 只返回需要修改的行，不修改的行不要包含在结果中\n✓ line字段必须对应原文档中真实存在的行号\n✓ 优先修改包含批注选中文本的行及其上下文相关行\n\n请返回 JSON：\n{\n  \"reason\": \"本次修改的总体原因和目标\",\n  \"changes\": [\n    {\n      \"line\": \"行号（必须是文档中存在的行号）\",\n      \"content\": \"该行修改后的完整内容（必须是完整的一行，不能只是片段）\"\n    }\n  ]\n}","strictRender":false,"input":{"topic":"AI模板优化"},"ctx":{"keywords":["模板","渲染","调试"]}}


{
    "success": true,
    "renderedPrompt": "你是一个专业的文档编辑助手，擅长根据批注内容精准修改文档。\n你的输出会被程序直接用于替换原文行内容，因此必须严格遵守格式和完整性要求。\n\n原始文档内容：\n```\n{{ fn.defaultValue(input.originalText, '') }}\n```\n\n批注信息：\n批注内容：{{ fn.defaultValue(input.annotationContent, '') }}\n选中文本：{{ fn.defaultValue(input.selectedText, '') }}\n保持原始风格：{{ fn.defaultValue(input.keepOriginalStyle, false) }}\n\n修改要求：\n1. 请基于批注内容和选中的文本位置，确定需要修改的行\n2. 保持文章的整体风格和语调\n3. 只修改必要的行，避免过度修改\n4. 重点关注批注选中的文本区域及其相关内容\n\n\n重要说明：\n• content字段必须包含该行的完整内容，不能只包含修改的部分！\n• 即使只修改了一个词，也要返回整句话的完整内容！\n• 我会用content的内容完全替换原来的行，所以绝对不能缺少任何部分！\n\n关键要求：\n✓ reason字段要简洁明了，说明本次修改的整体目标，字数为20~200字\n✓ content必须是完整的行内容，包含修改前后的所有文字\n✓ 不要只返回修改的片段，要返回整行的完整句子\n✓ 确保修改后的内容在语法和逻辑上完整连贯\n✓ 只返回需要修改的行，不修改的行不要包含在结果中\n✓ line字段必须对应原文档中真实存在的行号\n✓ 优先修改包含批注选中文本的行及其上下文相关行\n\n请返回 JSON：\n{\n  \"reason\": \"本次修改的总体原因和目标\",\n  \"changes\": [\n    {\n      \"line\": \"行号（必须是文档中存在的行号）\",\n      \"content\": \"该行修改后的完整内容（必须是完整的一行，不能只是片段）\"\n    }\n  ]\n}",
    "errorType": null,
    "errorExpression": null,
    "errorMessage": null
}